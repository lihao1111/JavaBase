### JVM知识点复习

#### 类加载

1.BootstrapClassLoader -> ExtClassLoader -> ClassLoader  自上而下加载 双亲委派 沙箱安全

#### 类对象的加载过程



#### JVM结构

##### 线程共享

###### 堆

存放类对象 数组等 是线程共享区域

###### 方法区

类信息 静态方法 常量池

##### 线程私有

###### 线程计数器

记录线程执行位置

###### 方法栈

线程方法

###### 本地方法栈

native方法

#### 对象的创建过程

1.程序遇到new 先去方法区查看是否有该类的信息，如果没有将类模板信息加载到方法区

2.内存分配：指针碰撞（内存不规整）以及空闲列表（jvm记录空闲内存地址）

3.初始零值：针对类中的属性赋初始值 。所以创建的对象 对象的属性都有初始值

4.设置 对象头信息：其中包括 GC age  hashCode 锁信息等

5.执行init 进行实例化对象

#### 堆内存

堆内存包含 新生区（2） + 养老区（8）

其中新生区包含（伊甸园区 8）+幸存1from（1） +幸存2to（1）

其中伊甸园区 轻GC

养老区 Full GC

#### 什么时候对象不可用

1.引用计数

2.可达性  强引用 软引用 弱引用 虚引用

#### GC的算法

1.复制算法：将可用对象复制到空闲内存：不会产生内存碎片，效率高，需要内存空间较大。多使用于伊甸园区

2.标记-清理：将可用对象标记，将垃圾对象清理，会产生内存碎片，效率高。

3。标记-清理-压缩：将可用对象标记，将垃圾对象清理，然后将可用对象进行压缩，不会产生垃圾碎片，相比较标记-清理 效率稍低。











​                                

​                                                                                                                                                                                                                      















